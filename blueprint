Remix DiffAtlas — Remix app blueprint (dataset diffing + change classification) + Neon backend

What it is

DiffAtlas is a Remix app for comparing two dataset snapshots, classifying changes (added, removed, modified), and storing diff results for later inspection. This is not a queue, not encryption storage, not dashboards — it’s data comparison + change intelligence.

Use cases:

route lists changed

pricing updates

inventory deltas

exhibit revisions

config drift detection



---

Core concept

You upload or paste two datasets → system:

1. normalizes records


2. computes hashes


3. compares sets


4. classifies changes


5. stores diff result


6. renders structured comparison




---

Architecture

Flow:

Remix UI
→ Remix action upload/submit
→ server normalization & diff engine
→ Neon storage
→ loader renders results

Server-only processing ensures speed and avoids exposing logic.


---

Data model (Neon Postgres)

sql/003_diffatlas.sql

create extension if not exists pgcrypto;

create table if not exists diff_jobs (
  id uuid primary key default gen_random_uuid(),
  name text not null,
  key_field text not null,
  created_at timestamptz not null default now()
);

create table if not exists diff_snapshots (
  id uuid primary key default gen_random_uuid(),
  job_id uuid not null references diff_jobs(id) on delete cascade,
  label text not null,
  created_at timestamptz not null default now()
);

create table if not exists diff_records (
  id uuid primary key default gen_random_uuid(),
  snapshot_id uuid not null references diff_snapshots(id) on delete cascade,
  record_key text not null,
  record_hash text not null,
  record_json jsonb not null
);

create index if not exists idx_diff_records_key on diff_records(record_key);
create index if not exists idx_diff_records_snapshot on diff_records(snapshot_id);

create table if not exists diff_results (
  id uuid primary key default gen_random_uuid(),
  job_id uuid not null references diff_jobs(id) on delete cascade,
  base_snapshot uuid not null,
  compare_snapshot uuid not null,
  added jsonb not null default '[]',
  removed jsonb not null default '[]',
  modified jsonb not null default '[]',
  created_at timestamptz not null default now()
);


---

Diff engine logic

Step 1: Normalize

ensure stable key order

trim whitespace

lowercase keys (optional)

remove volatile fields (configurable)


Step 2: Hash records

hash = sha256(canonical_json)

Step 3: Compare by record_key

If key exists in:

new only → ADDED

old only → REMOVED

both, different hash → MODIFIED


Step 4: Modified detail

Store:

{
  key,
  before,
  after,
  changed_fields: []
}


---

Routes / pages

/

Create new diff job
Choose key field (ex: id, slug, address)


---

/job/:id

Upload or paste datasets:

Supported formats:

JSON array

CSV

newline JSON (NDJSON)


Create snapshots.


---

/job/:id/compare

Select:

base snapshot

compare snapshot


Run diff.


---

/diff/:id

Diff results UI:

counts summary

tabs: Added / Removed / Modified

expandable record view

changed fields highlight



---

UI/UX (MVP)

Upload panel

paste data OR upload file

preview row count

snapshot label input


Diff results

Top summary:

✔ added: 24
✔ removed: 3
✔ modified: 11

Tabs:

Added

Removed

Modified


Modified view:

field-level highlights



---

Performance strategy

stream parse CSV

process in batches

cap record size

index keys for lookup

avoid loading entire dataset into memory for large jobs



---

Safety caps

max upload: 10MB (configurable)

max records per snapshot: 100k

max record size: 64KB



---

Smoke tests

1. Upload snapshot A (10 records)


2. Upload snapshot B (modified)


3. Run compare


4. Added/removed/modified counts correct


5. Modified tab shows field-level changes




---

Why this is portfolio-level strong

Demonstrates:

✔ data normalization strategy
✔ hashing & diff algorithms
✔ large dataset handling
✔ change classification
✔ structured result storage
✔ real-world operational usefulness


---

Done definition

Done = datasets can be snapshotted, diffed, classified, and reviewed with structured results persisted in Neon.

