"use strict";(()=>{var e={};e.id=652,e.ids=[652],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},672:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>R,patchFetch:()=>x,requestAsyncStorage:()=>c,routeModule:()=>d,serverHooks:()=>A,staticGenerationAsyncStorage:()=>m});var o={};t.r(o),t.d(o,{GET:()=>l,runtime:()=>p});var s=t(9303),n=t(8716),i=t(670),u=t(7070),a=t(1103);let p="nodejs";async function l(e,{params:r}){let{searchParams:t}=new URL(e.url),o=String(t.get("userKey")||""),s=r.id;if(!o)return u.NextResponse.json({error:"userKey required"},{status:400});let n=(0,a.M)(),{rows:i}=await n.query("SELECT rank, payload, created_at FROM solutions WHERE problem_id = $1 AND user_key = $2 ORDER BY rank ASC",[s,o]);return u.NextResponse.json({solutions:i})}let d=new s.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/problems/[id]/solutions/route",pathname:"/api/problems/[id]/solutions",filename:"route",bundlePath:"app/api/problems/[id]/solutions/route"},resolvedPagePath:"/root/althea/app/api/problems/[id]/solutions/route.ts",nextConfigOutput:"",userland:o}),{requestAsyncStorage:c,staticGenerationAsyncStorage:m,serverHooks:A}=d,R="/api/problems/[id]/solutions/route";function x(){return(0,i.patchFetch)({serverHooks:A,staticGenerationAsyncStorage:m})}},1103:(e,r,t)=>{t.d(r,{M:()=>n});let o=require("pg"),s=null;function n(){if(!s){if(!process.env.DATABASE_URL)throw Error("DATABASE_URL is not set");s=new o.Pool({connectionString:process.env.DATABASE_URL,max:5})}return s}}};var r=require("../../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),o=r.X(0,[948,972],()=>t(672));module.exports=o})();