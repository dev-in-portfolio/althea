(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{9316:function(n,e,t){Promise.resolve().then(t.bind(t,8017))},8017:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return o},dynamic:function(){return c}});var i=t(8247),s=t(888),a=t(9644);let c="force-dynamic";function o(){let n=(0,a.N)(),[e,t]=(0,s.useState)(""),[c,o]=(0,s.useState)(""),[r,u]=(0,s.useState)(!1);async function l(){if(!e.trim()){o("Email required.");return}u(!0);let{error:t}=await n.auth.signInWithOtp({email:e,options:{emailRedirectTo:"".concat(window.location.origin,"/")}});if(t){o(t.message),u(!1);return}o("Check your inbox for a magic link."),u(!1)}async function d(){await n.auth.signOut(),o("Signed out.")}return(0,s.useEffect)(()=>{n.auth.getSession().then(n=>{let{data:e}=n;e.session&&(window.location.href="/")})},[]),(0,i.jsx)("div",{className:"grid",children:(0,i.jsxs)("div",{className:"card",children:[(0,i.jsx)("h2",{children:"Sign in"}),(0,i.jsx)("p",{className:"muted",children:"Use a magic link to access your sessions."}),(0,i.jsxs)("div",{className:"toolbar",style:{marginTop:12},children:[(0,i.jsx)("input",{className:"input",placeholder:"Email",value:e,onChange:n=>t(n.target.value)}),(0,i.jsx)("button",{className:"btn",onClick:l,disabled:r,children:r?"Sending...":"Send link"}),(0,i.jsx)("button",{className:"btn secondary",onClick:d,children:"Sign out"})]}),c&&(0,i.jsx)("p",{className:"muted",style:{marginTop:12},children:c})]})})}},9644:function(n,e,t){"use strict";t.d(e,{N:function(){return c}});var i=t(4286),s=t(461);let a=null;function c(){if(a)return a;let n=s.env.NEXT_PUBLIC_SUPABASE_URL||"http://localhost:54321",e=s.env.NEXT_PUBLIC_SUPABASE_ANON_KEY||"anon-key";return a=(0,i.eI)(n,e,{auth:{persistSession:!0,autoRefreshToken:!0}})}}},function(n){n.O(0,[775,501,539,744],function(){return n(n.s=9316)}),_N_E=n.O()}]);