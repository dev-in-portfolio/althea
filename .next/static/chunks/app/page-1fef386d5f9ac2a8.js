(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{302:function(e,s,n){Promise.resolve().then(n.bind(n,6774))},6774:function(e,s,n){"use strict";n.r(s),n.d(s,{default:function(){return r}});var t=n(7437),a=n(2265),l=n(7138),c=n(3323);function r(){let e=(0,c.Z)(),[s,n]=(0,a.useState)([]),[r,i]=(0,a.useState)(null),o=async()=>{if(!e)return;let s=await fetch("/api/problems?userKey=".concat(e)),t=null;try{t=await s.json()}catch(e){t=null}if(!s.ok||!t){i("Backend not configured. Set DATABASE_URL and run migrations.");return}n(t.problems||[]),i(null)},d=async s=>{await fetch("/api/problems/".concat(s,"?userKey=").concat(e),{method:"DELETE"}),o()};return(0,a.useEffect)(()=>{o()},[e]),(0,t.jsxs)("div",{className:"stack",children:[(0,t.jsxs)("div",{className:"hero",children:[(0,t.jsx)("h1",{children:"SolveSpace"}),(0,t.jsx)("h2",{children:"Generate a few strong options from time constraints."})]}),r?(0,t.jsx)("div",{className:"banner",children:r}):null,(0,t.jsxs)("section",{className:"stack",children:[0!==s.length||r?null:(0,t.jsx)("div",{className:"card",children:"No problems yet. Create one to generate options."}),s.map(e=>{var s,n;return(0,t.jsxs)("div",{className:"card stack",children:[(0,t.jsxs)("div",{className:"row",style:{justifyContent:"space-between"},children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"badge",children:"Problem"}),(0,t.jsx)("strong",{children:e.title})]}),(0,t.jsx)("div",{className:"mono",children:new Date(e.created_at).toLocaleString()})]}),(0,t.jsxs)("div",{className:"row",children:[(0,t.jsxs)("span",{className:"pill",children:[e.task_count," tasks"]}),(0,t.jsxs)("span",{className:"pill",children:["Available ",null!==(n=null===(s=e.params)||void 0===s?void 0:s.availableMinutes)&&void 0!==n?n:"?"," min"]})]}),(0,t.jsxs)("div",{className:"row",children:[(0,t.jsx)(l.default,{href:"/problems/".concat(e.id),children:"Open"}),(0,t.jsx)(l.default,{href:"/problems/".concat(e.id,"/solutions"),children:"Solutions"}),(0,t.jsx)("button",{type:"button",className:"secondary",onClick:()=>d(e.id),children:"Delete"})]})]},e.id)})]})]})}},3323:function(e,s,n){"use strict";n.d(s,{Z:function(){return a}});var t=n(2265);function a(){let[e,s]=(0,t.useState)("");return(0,t.useEffect)(()=>{let e=window.localStorage.getItem("solvespace_user_key");if(e){s(e);return}let n=crypto.randomUUID();window.localStorage.setItem("solvespace_user_key",n),s(n)},[]),e}}},function(e){e.O(0,[138,971,23,744],function(){return e(e.s=302)}),_N_E=e.O()}]);